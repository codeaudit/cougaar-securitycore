<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List href="README.automatedTests_files/filelist.xml">
<title>This README file explains how to install and configure the test suite
for the security services</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:LastAuthor>Sebastien Rosset</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>4</o:TotalTime>
  <o:Created>2003-02-28T02:18:00Z</o:Created>
  <o:LastSaved>2003-02-28T02:18:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>739</o:Words>
  <o:Characters>4213</o:Characters>
  <o:Company>Network Associates, Inc.</o:Company>
  <o:Lines>35</o:Lines>
  <o:Paragraphs>9</o:Paragraphs>
  <o:CharactersWithSpaces>4943</o:CharactersWithSpaces>
  <o:Version>10.3501</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:1627421319 -2147483648 8 0 66047 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:Arial;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{mso-style-noshow:yes;
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	background:navy;
	font-size:10.0pt;
	font-family:Tahoma;
	mso-fareast-font-family:"Times New Roman";}
p.MsoPlainText, li.MsoPlainText, div.MsoPlainText
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 65.95pt 1.0in 65.95pt;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:130943377;
	mso-list-type:hybrid;
	mso-list-template-ids:353791976 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l0:level1
	{mso-level-start-at:0;
	mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
@list l1
	{mso-list-id:231623097;
	mso-list-type:hybrid;
	mso-list-template-ids:-1034718 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l1:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l2
	{mso-list-id:264121730;
	mso-list-type:hybrid;
	mso-list-template-ids:502404538 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l2:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l3
	{mso-list-id:441338232;
	mso-list-type:hybrid;
	mso-list-template-ids:-1941506820 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l3:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l4
	{mso-list-id:1545630514;
	mso-list-type:hybrid;
	mso-list-template-ids:-1778380044 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l4:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l5
	{mso-list-id:1777098880;
	mso-list-type:hybrid;
	mso-list-template-ids:-1620573760 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l5:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]-->
</head>

<body lang=EN-US style='tab-interval:.5in'>

<div class=Section1>

<p class=MsoPlainText><span style='font-family:"Times New Roman"'>This README
file explains how to install and configure the test suite for the security
services.<br>
<br>
<b style='mso-bidi-font-weight:normal'><u>INTRODUCTION<br>
</u></b>The test suite has the following capabilities:<br>
A series of regression tests can be run on a regular basis (e.g. every day) to
verify that the security services do not have bugs.<br>
During a test, one or more nodes are executed concurrently. The order and the
timing of the nodes execution can be controlled. Since nodes are supposed to
run forever, each node is given a maximum amount of time during which it must
perform its operation (at least for test purposes). An operation can be
executed before and after the node is executed. For instance, configuration
files can be customized during the pre-operation and files can be cleaned up or
analyzed during the post-operation.<br>
Tests are executed sequentially.<br>
After all the tests have been executed, a program analyzes the results and
determines whether the test has been successful or not.<br>
The set of nodes can be executed on one or multiple hosts.<br>
A dashboard, which is accessible from a web page, provides a summary of the
test results and has links to log details. The dashboard is updated every time
the test suite is executed.<br>
The latest version of the <span class=SpellE>securityservices</span> module is
fetched every time the test suite is executed.<br>
The test suite must currently be executed on Linux. There is no support for
Windows.<br>
<br>
<b style='mso-bidi-font-weight:normal'><u>INSTALLATION<br>
</u></b><br>
* Create a user for the Tomcat web server and another user for the tests. For
example, create a &quot;tomcat&quot; user and a &quot;<span class=SpellE>junittest</span>&quot;
user. The Tomcat web server (which is used to run the dashboard) and the test
suite should be executed under two different users. This is because Tomcat is a
java application and the test suite kills <span
style='mso-spacerun:yes'>  </span>all java processes on all machines where the
tests are executed. <span style='mso-spacerun:yes'>  </span>An alternative is
to run the Tomcat server on a host where the test <span
style='mso-spacerun:yes'>  </span>suite will not be executed.<br>
Install Java web services (or at a minimum Tomcat)<br>
http://java.sun.com/webservices/downloads/webservicespack.html<br>
In general, the installation directory is ${HOME/jwsdp-1_0.<br>
Install and configure <span class=SpellE><span class=GramE>ssh</span></span>
and <span class=SpellE>sshd</span> on every host where the tests will be
executed. Configure <span class=SpellE><span class=GramE>ssh</span></span> for
the &quot;<span class=SpellE>junittest</span>&quot; user so that the user can
log to another machine without human intervention. For example, create a
private/public key pair with no <span class=SpellE>passphrase</span>. The test
suite uses <span class=SpellE><span class=GramE>ssh</span></span> to run nodes
remotely.<br>
Configure CVS for the <span class=SpellE>junittest</span> user. The <span
class=SpellE>junittest</span> user should be able to checkout and update the <span
class=SpellE>securityservices</span> module from the CVS server (currently
cvs.ultralog.net). Since the <span class=SpellE>securityservices</span> module
is updated before the test suite is executed, make sure the <span class=SpellE>junittest</span>
user can update from CVS without user intervention.<br>
Checkout the <span class=SpellE>securityservices</span> module from CVS in the
directory of your choice.<br>
<span class=SpellE><span class=GramE>cvs</span></span> checkout <span
class=SpellE>securityservices</span><br>
Install the version of Cougaar that matches the version of the <span
class=SpellE>securityservices</span> module.<br>
Install ant version &gt;= 1.5<br>
Optional tasks are required to run the <span class=SpellE>junit</span> tests
and the result <span class=SpellE>analyzis</span>.<br>
Add <span class=SpellE>junit.jar</span> and <span class=SpellE>Xalan</span> 2.x
to the ant/lib directory<br>
JUNIT can be found at http://www.junit.org<br>
XALAN can be found at http://xml.apache.org/xalan-j<br>
Install and customize the <span class=SpellE>crontab</span> for the <span
class=SpellE>junittest</span> user. A <span class=SpellE>crontab</span> example
is available under regress/<span class=SpellE>config/nodeTest/crontab</span>. By
default, the <span class=SpellE>crontab</span> executes the tests every 2
hours.<br>
<br>
<b style='mso-bidi-font-weight:normal'><u>CONFIGURATION<br>
</u></b>A number of files must be customized for your environment before the tests
can be executed.<br>
<br>
build-<span class=SpellE>dashboard.xml</span><br>
This file is used to update the dashboard every time the test suite is executed.
Dashboard web pages are copied to the Tomcat.<br>
TODO: describe all files.<br>
<br>
<b style='mso-bidi-font-weight:normal'><u>TEST SUITE<br>
</u></b>All the tests assume that Cougaar has been installed on every host
where nodes will be executed. In addition, software such as LDAP must be
installed in order to run some of the tests. For example, the CA requires <span
class=SpellE>OpenLdap</span> to store certificates.<br>
<br>
The following tests are currently implemented:<br>
<br>
<b style='mso-bidi-font-weight:normal'><u>Start a CA from scratch<br>
</u></b>Description:<br>
<span style='mso-spacerun:yes'>  </span>This test executes a certificate
authority from scratch.<br>
Pre-operations:<br>
<span style='mso-spacerun:yes'>  </span>The CA <span class=SpellE>keystore</span>
is deleted,<br>
<span style='mso-spacerun:yes'>  </span>All the certificates are removed from
the LDAP directory service.<br>
Tests:<br>
<span style='mso-spacerun:yes'>  </span>The test verifies that no error is
generated when the CA is initialized and executed.<br>
<br>
<b style='mso-bidi-font-weight:normal'><u>Start a CA. Create a CA key<br>
</u></b>Description:<br>
<span style='mso-spacerun:yes'>  </span><span class=GramE>This test executes a
certificate authority and generate</span> a CA key.<br>
<span style='mso-spacerun:yes'>  </span>The test simulates a CA administrator
who would configure the CA and generate a key.<br>
<span style='mso-spacerun:yes'>  </span>This is done by invoking a CA <span
class=SpellE>servlet</span>.<br>
Tests:<br>
<span style='mso-spacerun:yes'>  </span>The test verifies that no error is
generated, and that the CA key is actually created.<br>
<br>
<b style='mso-bidi-font-weight:normal'><u>Restart a CA after CA key generation<br>
</u></b>Description:<br>
<span style='mso-spacerun:yes'>  </span>This test executes a CA after the key
has been generated.<br>
Tests:<br>
<span style='mso-spacerun:yes'>  </span>The test verifies that no error is
generated when a CA is stopped and restarted.<br>
<br>
<b style='mso-bidi-font-weight:normal'><u>Start small-135 society using CA<br>
</u></b>Description:<br>
<span style='mso-spacerun:yes'>  </span>This test executes the small 135
society.<br>
Tests:<br>
<span style='mso-spacerun:yes'>  </span>The test verifies that all nodes can be
started, and that all agents can get a certificate.<br>
<o:p>&nbsp;</o:p></span></p>

</div>

</body>

</html>
