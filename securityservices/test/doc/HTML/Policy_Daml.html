<html xmlns:v="urn:schemas-microsoft-com:vml"xmlns:o="urn:schemas-microsoft-com:office:office"xmlns:w="urn:schemas-microsoft-com:office:word"xmlns="http://www.w3.org/TR/REC-html40"><head><meta name=Title content="Policy Management - DAML expansion"><meta name=Keywords content=""><meta http-equiv=Content-Type content="text/html; charset=windows-1252"><meta name=ProgId content=Word.Document><meta name=Generator content="Microsoft Word 10"><meta name=Originator content="Microsoft Word 10"><link rel=File-List href="Policy_Daml_files/filelist.xml"><title>Policy Management - DAML expansion</title><!--[if gte mso 9]><xml> <o:DocumentProperties>  <o:Author>Sebastien Rosset</o:Author>  <o:Template>Normal</o:Template>  <o:LastAuthor>Timothy Redmond</o:LastAuthor>  <o:Revision>3</o:Revision>  <o:Created>2003-09-15T22:08:00Z</o:Created>  <o:LastSaved>2003-09-15T22:12:00Z</o:LastSaved>  <o:Pages>7</o:Pages>  <o:Words>1907</o:Words>  <o:Characters>10871</o:Characters>  <o:Company>Network Associates, Inc.</o:Company>  <o:Lines>90</o:Lines>  <o:Paragraphs>21</o:Paragraphs>  <o:CharactersWithSpaces>13350</o:CharactersWithSpaces>  <o:Version>10.1316</o:Version> </o:DocumentProperties></xml><![endif]--><!--[if gte mso 9]><xml> <w:WordDocument>  <w:Zoom>150</w:Zoom>  <w:Compatibility>   <w:BreakWrappedTables/>   <w:SnapToGridInCell/>   <w:WrapTextWithPunct/>   <w:UseAsianBreakRules/>  </w:Compatibility>  <w:SpellingState>Clean</w:SpellingState>  <w:GrammarState>Clean</w:GrammarState>  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel> </w:WordDocument></xml><![endif]--><style><!--p.MSONORMAL	{mso-bidi-font-family:"Times New Roman";}li.MSONORMAL	{mso-bidi-font-family:"Times New Roman";}div.MSONORMAL	{mso-bidi-font-family:"Times New Roman";}p.MSODOCUMENTMAP	{mso-style-noshow:yes;}li.MSODOCUMENTMAP	{mso-style-noshow:yes;}div.MSODOCUMENTMAP	{mso-style-noshow:yes;}span.SPELLE	{mso-spl-e:yes;}span.GRAME	{mso-gram-e:yes;} /* Font Definitions */@font-face	{font-family:"Times New Roman";	panose-1:0 2 2 6 3 5 4 5 2 3;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Arial;	panose-1:0 2 11 6 4 2 2 2 2 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:"Courier New";	panose-1:0 2 7 3 9 2 2 5 2 4;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;}@font-face	{font-family:Tahoma;	panose-1:0 2 11 6 4 3 5 4 4 2;	mso-font-charset:0;	mso-generic-font-family:auto;	mso-font-pitch:variable;	mso-font-signature:50331648 0 0 0 1 0;} /* Style Definitions */p.MsoNormal, li.MsoNormal, div.MsoNormal	{mso-style-parent:"";	margin:0in;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	font-size:10.0pt;	font-family:Arial;}a:link, span.MsoHyperlink	{color:blue;	text-decoration:underline;	text-underline:single;}a:visited, span.MsoHyperlinkFollowed	{color:blue;	text-decoration:underline;	text-underline:single;}p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap	{margin:0in;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	background:navy;	font-size:10.0pt;	font-family:Tahoma;}p.MsoPlainText, li.MsoPlainText, div.MsoPlainText	{margin:0in;	margin-bottom:.0001pt;	mso-pagination:widow-orphan;	font-size:10.0pt;	font-family:"Courier New";}@page Section1	{size:8.5in 11.0in;	margin:1.0in 65.95pt 1.0in 65.95pt;	mso-header-margin:.5in;	mso-footer-margin:.5in;	mso-paper-source:0;}div.Section1	{page:Section1;} /* List Definitions */@list l0	{mso-list-id:246892441;	mso-list-type:hybrid;	mso-list-template-ids:1539711874 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}@list l0:level1	{mso-level-number-format:bullet;	mso-level-text:\F0B7;	mso-level-tab-stop:.5in;	mso-level-number-position:left;	text-indent:-.25in;	font-family:Symbol;}@list l1	{mso-list-id:376009076;	mso-list-type:hybrid;	mso-list-template-ids:-1451454624 67698689 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}@list l1:level1	{mso-level-number-format:bullet;	mso-level-text:\F0B7;	mso-level-tab-stop:.5in;	mso-level-number-position:left;	text-indent:-.25in;	font-family:Symbol;}@list l1:level2	{mso-level-number-format:bullet;	mso-level-text:o;	mso-level-tab-stop:1.0in;	mso-level-number-position:left;	text-indent:-.25in;	font-family:"Courier New";}@list l2	{mso-list-id:1559248361;	mso-list-type:hybrid;	mso-list-template-ids:-1784088812 66569 197641 328713 66569 197641 328713 66569 197641 328713;}@list l2:level1	{mso-level-number-format:bullet;	mso-level-text:\F0B7;	mso-level-tab-stop:.5in;	mso-level-number-position:left;	text-indent:-.25in;	font-family:Symbol;}@list l3	{mso-list-id:1882860540;	mso-list-type:hybrid;	mso-list-template-ids:1072859350 984073 1639433 1770505 984073 1639433 1770505 984073 1639433 1770505;}ol	{margin-bottom:0in;}ul	{margin-bottom:0in;}--></style><!--[if gte mso 9]><xml> <o:shapedefaults v:ext="edit" spidmax="1027"/></xml><![endif]--><!--[if gte mso 9]><xml> <o:shapelayout v:ext="edit">  <o:idmap v:ext="edit" data="1"/> </o:shapelayout></xml><![endif]--></head><body bgcolor=white lang=EN-US link=blue vlink=blue style='tab-interval:.5in'><div class=Section1><p class=MsoPlainText style='mso-outline-level:1'><span style='font-size:24.0pt;font-family:"Times New Roman"'>DAML Policy Management<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><bstyle='mso-bidi-font-weight:normal'><u>Flags on which policy expansion depends:<o:p></o:p></u></b></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><bstyle='mso-bidi-font-weight:normal'>&nbsp;<u><o:p></o:p></u></b></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><istyle='mso-bidi-font-style:normal'>Servlet Access Control<o:p></o:p></i></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>Servletaccess control is responsible for making decisions about whether a usershould<span style="mso-spacerun: yes">&nbsp; </span>be allowed to access aservlet.<span style="mso-spacerun: yes">&nbsp; </span>It also controls whichservlet access operations are audited.<span style="mso-spacerun: yes">&nbsp;</span>It uses the following flags:<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo2;tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol'>·<spanstyle='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><![endif]><span style='font-family:"Times New Roman"'>org.cougaar.core.security.policy.enforcers.servlet.useDaml=true<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:1.0in'><span style='font-family:"Times New Roman"'>Thisflag enables the daml enforcement mechanisms.<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo2;tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol'>·<spanstyle='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><![endif]><span style='font-family:"Times New Roman"'>org.cougaar.lib.web.tomcat.enableAuth=true<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:1.0in'><span style='font-family:"Times New Roman"'>Thisflag turns on the authentication mechanisms.<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in;text-indent:-.25in;mso-list:l2 level1 lfo4;tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol'>·<spanstyle='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><![endif]><span style='font-family:"Times New Roman"'>org.cougaar.core.security.audit=true<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:1.0in'><span style='font-family:"Times New Roman"'>Thisflag enables audit mechanisms which are also protected by policy.<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:1.0in'><span style='font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><istyle='mso-bidi-font-style:normal'>Message Passing Access Control<o:p></o:p></i></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><i><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></i></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>Messagepassing access control is responsible for controlling ultralog messaging.<spanstyle="mso-spacerun: yes">&nbsp; </span>There are two<span style="mso-spacerun:yes">&nbsp; </span>types of controls that we currently set: whether the messagecan be sent or received and how the message should be cryptographically protected.<spanstyle="mso-spacerun: yes">&nbsp; </span>This mechanism uses the followingflags:<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in;text-indent:-.25in;mso-list:l0 level1 lfo6;tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol'>·<spanstyle='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><![endif]><span style='font-family:"Times New Roman"'>org.cougaar.core.security.policy.enforcers.crypto.useDaml=true<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:1.0in'><span style='font-family:"Times New Roman"'>Thisflag enables the daml enforcement mechanisms for questions of whether messagesshould be cryptographically protected.<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in;text-indent:-.25in;mso-list:l0 level1 lfo6;tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol'>·<spanstyle='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><![endif]><span style='font-family:"Times New Roman"'>org.cougaar.core.security.policy.enforcers.access.useDaml=true<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:1.0in'><span style='font-family:"Times New Roman"'>Thisflag enables the daml enforcement mechanisms for questions of whether messagesshould be sent or received based on their content and the sender and<spanstyle="mso-spacerun: yes">&nbsp; </span>the receiver.<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><istyle='mso-bidi-font-style:normal'>BlackBoard Access Control<o:p></o:p></i></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>TheBlackboard access control mechanism controls access of plugins to theblacboard.<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo2;tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol'>·<spanstyle='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><![endif]><span style='font-family:"Times New Roman"'>org.cougaar.core.security.policy.auth.role.useDaml=true<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:1.0in'><span style='font-family:"Times New Roman"'>Thisflag controls whether blackboard access control is turned on.<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo2;tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol'>·<spanstyle='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><![endif]><span style='font-family:"Times New Roman"'>org.cougaar.core.security.policy.auth.role.useAccessCaching=true<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:1.0in'><span style='font-family:"Times New Roman"'>Thisflag causes the enforcement mechanisms to cache the knowledge that an access tothe blackboard is allowed.<span style="mso-spacerun: yes">&nbsp; </span>Theblackboard is heavily accessed during normal operations (much more so thanUltralog messaging) and it is recommended that this flag be turned on isblackboard access control is enabled.<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo2;tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol'>·<spanstyle='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><![endif]><span style='font-family:"Times New Roman"'>org.cougaar.core.security.access.efficientBBS=true<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:1.0in'><span style='font-family:"Times New Roman"'>Whenthis flag is turned on, blackboard access control is only utilized forblackboard objects that are subclasses of SecuredObject.<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><istyle='mso-bidi-font-style:normal'>Other</i></span><span style='font-family:"Times New Roman"'><o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in;text-indent:-.25in;mso-list:l2 level1 lfo4;tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol'>·<spanstyle='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><![endif]><span style='font-family:"Times New Roman"'>safe.guard.NodeGuard.createPolicies=false<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:1.0in'><span style='font-family:"Times New Roman"'>Thisflag is obsolete and should always be set to false.<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><br><b style='mso-bidi-font-weight:normal'><u>Configuration Files<o:p></o:p></u></b></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>The centralconfiguration file for the policy mechanism is the DamlBootPolicyListconfiguration file.<span style="mso-spacerun: yes">&nbsp; </span>This filedefines the boot policies and defines the names that the policy mechanisms useto represent objects in the system.<span style="mso-spacerun: yes">&nbsp;</span>The DamlBootPolicyList also contains some comments documenting the usageof various declarations and the restrictions on what policies can be written.The grammar for the DamlBootPolicyList file can be found in <ahref="PolicyGrammar.html">Policy Grammar</a>.<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>The next mostimportant set of configuration files are those that map policy concept to theobjects that they represent<span style="mso-spacerun: yes">&nbsp; </span>in theUltralog system.<span style="mso-spacerun: yes">&nbsp; </span>For exampleconsider the name RearPolicyServlet which occurs in the following boot policy:<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in'><span style='font-family:"Times New Roman"'>PolicyPolicyServletRear<span style="mso-spacerun: yes">&nbsp; </span>= [ <o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in'><span style='font-family:"Times New Roman"'><spanstyle="mso-spacerun: yes">&nbsp; </span>ServletUserAccessTemplate<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in'><span style='font-family:"Times New Roman"'><spanstyle="mso-spacerun: yes">&nbsp; </span>A user in role RearPolicyAdministratorcan access a servlet <o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in'><span style='font-family:"Times New Roman"'><spanstyle="mso-spacerun: yes">&nbsp; </span>named RearPolicyServlet<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in'><span style='font-family:"Times New Roman"'>]<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>The nameRearPolicyServlet, which is used in the policy language, represents any servletthat is accessed through a URI of<span style="mso-spacerun: yes">&nbsp;</span>the form:<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><spanstyle='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/$RearPolicyDomainManagerServlet/policyAdmin<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>This mappingfrom the Ultralog concept<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><spanstyle='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/$RearPolicyDomainManagerServlet/policyAdmin<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>to the policyname<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><spanstyle='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RearPolicyServlet<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>is defined bythe following line in the configuration file DamlUriMap:<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in'><span style='font-family:"Times New Roman"'>/$RearPolicyDomainManagerServlet/policyAdminRearPolicyServlet.<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>DamlUriMap isan example of a policy mapping file and all the mapping files have thisformat.<span style="mso-spacerun: yes">&nbsp; </span>The format consists oflines consisting of the Ultralog name followed by a space and then the policy name.Wild cards are allowed and when the enforcement mechanisms try to match anUltralog name with a policy name, the first match wins.<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>Declarationsin DamlBootPolicyList<span style="mso-spacerun: yes">&nbsp; </span>of<spanstyle="mso-spacerun: yes">&nbsp; </span>the form<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in'><span style='font-family:"Times New Roman"'>UserRoleAdministrator<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>representuser roles for the servlet access<span style="mso-spacerun: yes">&nbsp;</span>control policies.<span style="mso-spacerun: yes">&nbsp; </span>Themapping file is DamlUserRoleMap.<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>Declarationsin DamlBootPolicyList of the form<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in'><span style='font-family:"Times New Roman"'>ServletAggegatorServlets<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>representservlets.<span style="mso-spacerun: yes">&nbsp; </span>The mapping fileisDamlUriMap.<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>Declarationsof the form<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><spanstyle='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>PlugInRoleOpPlanPlugInRole<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>representplugins that attempt to access the blackboard.<span style="mso-spacerun:yes">&nbsp; </span>There are three mapping files for mapping Ultralog PlugiInnames to policy names:<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in;text-indent:-.25in;mso-list:l3 level1 lfo8;tab-stops:list .5in'><![if !supportLists]><span style='font-family:"Times New Roman"'>1.<spanstyle='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><![endif]><span style='font-family:"Times New Roman"'>RoleAgentfor the case when the role for the plugin is obtained from the containingagent.<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in;text-indent:-.25in;mso-list:l3 level1 lfo8;tab-stops:list .5in'><![if !supportLists]><span style='font-family:"Times New Roman"'>2.<spanstyle='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><![endif]><span style='font-family:"Times New Roman"'>RoleComponentMapfor the case when the role for the plugin is obtained from the component name.<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in;text-indent:-.25in;mso-list:l3 level1 lfo8;tab-stops:list .5in'><![if !supportLists]><span style='font-family:"Times New Roman"'>3.<spanstyle='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><![endif]><span style='font-family:"Times New Roman"'>RoleUriMapfor the case when the role for the plugin is obtained from the URI for theservlet the PlugIn is implementing.<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>Declaraionsof the form<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><spanstyle='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>BlackBoardObjectBlackboardOpPlanObject<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>representnames for blackboard objects.<span style="mso-spacerun: yes">&nbsp; </span>Themapping file is DamlBlackboardObjectMap.<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>There are twoother configuration files that are needed to get servlet authentication towork:<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo2;tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol'>·<spanstyle='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><![endif]><span style='font-family:"Times New Roman"'><b>UserFile.xml<o:p></o:p></b></span></p><p class=MsoPlainText style='margin-left:.5in'><span style='font-family:"Times New Roman"'>Thisfile defines the users for the system, their passwords and their roles.<b><o:p></o:p></b></span></p><p class=MsoPlainText style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo2;tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol'>·<spanstyle='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><![endif]><span style='font-family:"Times New Roman"'><b>Communities.xml<o:p></o:p></b></span></p><p class=MsoPlainText style='margin-left:.5in'><span style='font-family:"Times New Roman"'>Inorder to do access mediation on a servlet, a node must be able to contact theuser manager.<span style="mso-spacerun: yes">&nbsp; </span>A node finds itsuser manager through the community service.<span style="mso-spacerun:yes">&nbsp; </span>The node looks for User communities that it belongs to:<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:1.0in'><span style='font-family:"Times New Roman"'>&lt;CommunityName=&quot;RearUserDomainComm&quot; &gt;<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:1.0in'><span style='font-family:"Times New Roman"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>&lt;AttributeID=&quot;CommunityType&quot; Value=&quot;User&quot; /&gt;<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in'><span style='font-family:"Times New Roman"'>whichhave a declared user manager in them:<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:1.0in'><span style='font-family:"Times New Roman"'>&lt;EntityName=&quot;RearUserAdminAgent&quot; &gt;<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:1.0in'><span style='font-family:"Times New Roman"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;AttributeID=&quot;EntityType&quot; Value=&quot;Agent&quot; /&gt;<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:1.0in'><span style='font-family:"Times New Roman"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;AttributeID=&quot;Role&quot; Value=&quot;Member&quot; /&gt;<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:1.0in'><span style='font-family:"Times New Roman"'><spanstyle="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&lt;AttributeID=&quot;Role&quot; Value=&quot;UserManager&quot; /&gt;<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:1.0in'><span style='font-family:"Times New Roman"'>&lt;/Entity&gt;<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in'><span style='font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.25in'><span style='font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><istyle='mso-bidi-font-style:normal'>Testing<o:p></o:p></i></span></p><p class=MsoPlainText style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo2;tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol'>·<spanstyle='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><![endif]><span style='font-family:"Times New Roman"'>DamlTestAgents<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo2;tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol'>·<spanstyle='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><![endif]><span style='font-family:"Times New Roman"'>DamlTestRoles<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in;text-indent:-.25in;mso-list:l1 level1 lfo2;tab-stops:list .5in'><![if !supportLists]><span style='font-family:Symbol'>·<spanstyle='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><![endif]><span style='font-family:"Times New Roman"'>DamlTestUris<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.25in'><span style='font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><bstyle='mso-bidi-font-weight:normal'><u>Loaded Components<o:p></o:p></u></b></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>Node.AgentManager.Agent.SecurityComponent(HIGH)=org.cougaar.core.security.policy.webproxy.WebProxySecurityComponent()<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in'><span style='font-family:"Times New Roman"'>Thiscomponent is recommended on every component that hosts a domain manager.<spanstyle="mso-spacerun: yes">&nbsp; </span>This component intercepts all clientweb requests.<span style="mso-spacerun: yes">&nbsp; </span>Those web requeststhat represent an attempt to obtain DAML ontologies from the Institute forMachine and Human Cognition (ihmc) web site are redirected to the configurationfiles.<span style="mso-spacerun: yes">&nbsp; </span>There are two reasons whythis component is recommended.<span style="mso-spacerun: yes">&nbsp;</span>First, there are synchronization issues between the Ultra*Log ontologiesand the ontologies on the ihmc web site.<span style="mso-spacerun: yes">&nbsp;</span>Second, the use of configuration files to supply ontologies is fasterand more self-sufficient.<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>Node.AgentManager.Agent.SecurityComponent(HIGH)=safe.util.SAFESecurityComponent(EnclaveOnePolicyManager,EnclaveOne)<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in'><span style='font-family:"Times New Roman"'>Thiscomponent should be started on every node.<span style="mso-spacerun:yes">&nbsp; </span>This component starts the KAoS guard with is responsible fordisclosing answers to policy questions to clients.<span style="mso-spacerun:yes">&nbsp; </span>For example an enforcer for servlet access might ask if thecurrent policy allows a given action.<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>Node.AgentManager.Agent.SecurityComponent(HIGH)=org.cougaar.core.security.provider.SecurityComponentFactory(community)<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>Node.AgentManager.Agent.SecurityComponent(HIGH)=org.cougaar.core.security.crypto.AutoConfigPlugin(eucalyptus:ca1ADAgent)<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in'><span style='font-family:"Times New Roman"'>Thiscomponent is needed to obtain certificates.<span style="mso-spacerun:yes">&nbsp; </span>It is needed by the message passing and servlet enforcementengines.<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>Node.AgentManager.Agent.MessageTransport.Aspect(INTERNAL)=org.cougaar.core.security.crypto.MessageProtectionAspectImpl<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>Node.AgentManager.Agent.PluginManager.Binder(BINDER)=org.cougaar.core.security.access.PluginServiceFilter<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>Node.AgentManager.Binder(BINDER)=org.cougaar.core.security.access.AccessAgentBinderFactory<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>plugin=org.cougaar.core.security.policy.enforcers.init.InitAgentPlugin()<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in'><span style='font-family:"Times New Roman"'>Thiscomponent is required on every agent.<span style="mso-spacerun: yes">&nbsp;</span>It ensures that the domain manager is properly informed about the agent.<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>plugin =org.cougaar.community.CommunityPlugin<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in'><span style='font-family:"Times New Roman"'>Thiscomponent ensures that the community service works.<span style="mso-spacerun:yes">&nbsp; </span>It is required on every node.<span style="mso-spacerun:yes">&nbsp; </span>It is needed by the servlet enforcement mechanisms to findthe agents that handle user login<span style="mso-spacerun: yes">&nbsp;</span>and authentication.<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>plugin=org.cougaar.core.security.policy.enforcers.init.InitNodePlugin()<o:p></o:p></span></p><p class=MsoPlainText style='margin-left:.5in'><span style='font-family:"Times New Roman"'>Thiscomponent is useful for testing the state of policies.<spanstyle="mso-spacerun: yes">&nbsp; </span>It tests policies involvingcommunication and servlet access.<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><bstyle='mso-bidi-font-weight:normal'><u>Command Line Tools<o:p></o:p></u></b></span></p><p class=MsoPlainText><span style='font-family:"Times New Roman"'><b><u><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></u></b></span></p><p class=MsoNormal><span style='font-family:"Times New Roman"'>PolicyUtil is acommand line tools for manipulating policies. It can be </span>found in thesecurityservices directory, test/bin.<span style="mso-spacerun: yes">&nbsp;</span>If you run it by itself it will print out some help messages.<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>To initialize the policies on KPAT, I might run the command<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal align=center style='text-align:center'>policyUtil commit--dm<span style="mso-spacerun: yes">&nbsp; </span>localhost 8801RearPolicyDomainManagerServlet DamlBootPolicyList<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>in the securityservices/test/configs/common directory.<spanstyle="mso-spacerun: yes">&nbsp; </span>This command will take the policiesdefined in the DamlBootPolicyList file and send them to the domain manager tobe committed.<span style="mso-spacerun: yes">&nbsp; </span>If you run KPATafter this command completes, you will see a set<span style="mso-spacerun:yes">&nbsp; </span>of (about 42) policies there.<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The &quot;--dm&quot; option means that the policies areconstructed on the fly.<span style="mso-spacerun: yes">&nbsp; </span>Analternative to the &quot;--dm&quot; option is the following two commands:<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>policyUtilbuild DamlBootPolicyList<o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>policyUtilcommit localhost 8801 RearPolicyDomainManagerServlet DamlBootPolicyList<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>The first of these two commands will build a set of .msgpolicy files.<span style="mso-spacerun: yes">&nbsp; </span>The second commandwill send those .msg files to the domain manager.<span style="mso-spacerun:yes">&nbsp; </span>The advantage of not using the &quot;--dm&quot; option isthat the commit step is faster.<span style="mso-spacerun: yes">&nbsp;</span>The policy build<span style="mso-spacerun: yes">&nbsp; </span>only needsto be done once.<span style="mso-spacerun: yes">&nbsp; </span>The advantage ofusing the &quot;--dm&quot; option is that you don't have to worry about thepossibility that the .msg files are out of sync with the policies in theDamlBootPolicyList file.<span style="mso-spacerun: yes">&nbsp; </span>In otherwords, maybe you did the build step a long time ago and the DamlBootPolicyListchanged in the mean time.<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>When building policies, the policyUtil command concatenates thepolicy prefix with the name of the policy to determine the name for the policy.msg file.<span style="mso-spacerun: yes">&nbsp; </span>Thus inDamlBootPolicyList, the policy prefix is defined by the line<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>PolicyPrefix=%DamlBootPolicy<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>and there is a policy defined by<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>PolicyAllowCommunication = [<o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span>MessageAuthTemplate<o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span>Allow messages from members of$Actor.daml#Agent to<o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><spanstyle="mso-spacerun: yes">&nbsp;&nbsp; </span>members of $Actor.daml#Agent<o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>]<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>So after a build there will be a policy fileDamlBootPolicyAllowCommunication.msg that allows all cougaar communication.<spanstyle="mso-spacerun: yes">&nbsp; </span>I sometimes use the policy prefix toensure that the policies are written to a different directory.<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>I also have a set of sample policies insecurityservices/test/configs/policies.<span style="mso-spacerun: yes">&nbsp;</span>There are two kinds of files.<span style="mso-spacerun: yes">&nbsp;</span>The *.policy files<span style="mso-spacerun: yes">&nbsp; </span>arecomplete policies.<span style="mso-spacerun: yes">&nbsp; </span>If this set ofpolicies replaces the current policies then the system should be able tocontinue running.<span style="mso-spacerun: yes">&nbsp; </span>Thus<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>policyUtilcommit --dm localhost 8801 RearPolicyDomainManagerServlet AlmostAllow.policy<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>will set the policies to be a very short and permissive setof<span style="mso-spacerun: yes">&nbsp; </span>policies.<spanstyle="mso-spacerun: yes">&nbsp; </span>AlmostAllow.policy does requireencryption on Ultralog messages though because there can be problems whenchanging the encryption policy.<span style="mso-spacerun: yes">&nbsp;</span>Allow.policy does not require encryption on Ultralog messages.<spanstyle="mso-spacerun: yes">&nbsp; </span>The Allow.policy policy is a littelproblematic because the transition from using encryption to not usingencryption can cause some agents to be unable to communicate.<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>I also have policy files of the form *.delta.<spanstyle="mso-spacerun: yes">&nbsp; </span>These policies are not meant to replacethe current policies but to modify them.<span style="mso-spacerun: yes">&nbsp;</span>Thus for instance the AllowFwdPolicyServlet.delta is a policy thatallows you to log in to the domain manager servlet with a user name of<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>FwdUserDomainComm\george<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>(and a password of george).<span style="mso-spacerun:yes">&nbsp; </span>If<span style="mso-spacerun: yes">&nbsp; </span>you were toexecute the command<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>policyUtilcommit --dm localhost 8801 RearPolicyDomainManagerServletAllowFwdPolicyServlet.delta<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>then the system would either break or be crippled.<spanstyle="mso-spacerun: yes">&nbsp; </span>There are not enough policies inAllowFwdPolicyServlet.delta to make the system work properly.<spanstyle="mso-spacerun: yes">&nbsp; </span>Instead you can execute the commands:<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>policyUtilcommit --dm localhost 8801 RearPolicyDomainManagerServlet DamlBootPolicyList<o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>inthe securityservices/test/configs/common directory<o:p></o:p></p><p class=MsoNormal>followed by<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>policyUtiladdpolicies --dm localhost 8801 RearPolicyDomainManagerServletAllowFwdPolicyServlet.delta<o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:2'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>inthe securityservices/test/configs/policies directory<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>(Actually the addpolicies command should probably be calleddeltapolicies because it adds and deletes policies from the current policyset).<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>It is not hard to keep track of several of these changes ina row - e.g. you could execute<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>policyUtilcommit --dm localhost 8801 RearPolicyDomainManagerServlet DamlBootPolicyList<o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>policyUtiladdpolicies--dm localhost 8801 RearPolicyDomainManagerServlet AuditCA.delta<o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>policyUtiladdpolicies --dm localhost 8801 RearPolicyDomainManagerServletAllowFwdPolicyServlet.delta<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>and then check that servlet access is working as you expect.<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>Finally, the policies in test/configs/policies can be builtbut you will need to construct the directories for them.<spanstyle="mso-spacerun: yes">&nbsp; </span>Thus in order to build<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>policyUtilbuild AgentGroups.delta<o:p></o:p></p><p class=MsoNormal><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></p><p class=MsoNormal>you need to make the AgentGroups directory.<spanstyle="mso-spacerun: yes">&nbsp; </span>This is because AgentGroups.delta setsthe policy prefix to &quot;AgentGroups/&quot;.<span style="mso-spacerun:yes">&nbsp; </span>I did this to keep the .msg files separate from oneanother.<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Also, I like thefact that the policy prefix makes it easy to tell where the policy came from inKPAT or in the policyViewer.<o:p></o:p></p><p class=MsoNormal><span style='font-family:"Times New Roman"'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></span></p></div></body></html>